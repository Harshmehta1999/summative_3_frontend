{"ast":null,"code":"var _jsxFileName = \"/Users/khush/Desktop/demis_project/summative_3_frontend/src/components/EditArtwork.jsx\";\nimport React, { Component } from \"react\";\nimport * as UTILS from \"../utils\";\nimport { navigate } from \"@reach/router\";\nimport Axios from \"axios\";\nimport CategorySelector from \"./CategorySelector\";\nimport TopNav from \"./TopNav\";\nimport SubNav from \"./SubNav\";\nimport \"../css/image.css\";\nexport default class EditArtwork extends Component {\n  constructor(props) {\n    super(props);\n\n    this.onCategoryUpdated = e => {\n      this.setState({\n        cat_id: e.target.value\n      });\n    };\n\n    this.GoToUserArtwork = e => {\n      navigate(`/user-artworks`);\n    };\n\n    this.EditProduct = e => {\n      e.preventDefault();\n      var formData = new FormData(this.myRef.current);\n      var settings = {\n        headers: {\n          \"Content-Type\": \"multipart/form-data\"\n        }\n      };\n      Axios.put(`${UTILS.edit_artwork}/${this.props.id}`, formData, settings).then(res => {\n        console.log(res);\n        this.GoToUserArtwork();\n      }, error => {\n        console.log(this.props.id);\n      });\n    };\n\n    this.state = {\n      artworks: {},\n      isLoaded: false\n    };\n    this.myRef = React.createRef();\n  }\n\n  componentDidMount() {\n    Axios.get(`${UTILS.edit_artwork}/${this.props.id}`).then(res => {\n      this.setState({\n        artworks: res.data[0],\n        isLoaded: true\n      });\n    });\n  }\n\n  render() {\n    let {\n      image,\n      artwork_title,\n      price,\n      product_description\n    } = this.state.artworks;\n    return /*#__PURE__*/React.createElement(React.Fragment, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(TopNav, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(SubNav, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 11\n      }\n    }, \"EDIT LISTING\"), /*#__PURE__*/React.createElement(\"form\", {\n      onSubmit: this.EditProduct,\n      ref: this.myRef,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(CategorySelector, {\n      onCategoryUpdated: this.onCategoryUpdated,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      placeholder: \"Title\",\n      name: \"artwork_title\",\n      defaultValue: artwork_title,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"number\",\n      placeholder: \"Price\",\n      name: \"price\",\n      defaultValue: price,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(\"textarea\", {\n      type: \"textarea\",\n      name: \"product_description\",\n      placeholder: \"Product Description\",\n      defaultValue: product_description,\n      rows: \"5\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"hidden\",\n      name: \"cat_id\",\n      value: this.state.cat_id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"image-wrap\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"figure\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      className: \"individual-image\",\n      src: `http://localhost:9000/${image}`,\n      width: \"150px\",\n      height: \"250px\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 19\n      }\n    }))), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"file\",\n      name: \"image\",\n      src: image,\n      defaultValue: image,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 15\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"submit\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      className: \"submit-button\",\n      type: \"submit\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 15\n      }\n    }, \"DONE\")))));\n  }\n\n}","map":{"version":3,"sources":["/Users/khush/Desktop/demis_project/summative_3_frontend/src/components/EditArtwork.jsx"],"names":["React","Component","UTILS","navigate","Axios","CategorySelector","TopNav","SubNav","EditArtwork","constructor","props","onCategoryUpdated","e","setState","cat_id","target","value","GoToUserArtwork","EditProduct","preventDefault","formData","FormData","myRef","current","settings","headers","put","edit_artwork","id","then","res","console","log","error","state","artworks","isLoaded","createRef","componentDidMount","get","data","render","image","artwork_title","price","product_description"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport * as UTILS from \"../utils\";\nimport { navigate } from \"@reach/router\";\nimport Axios from \"axios\";\nimport CategorySelector from \"./CategorySelector\";\nimport TopNav from \"./TopNav\";\nimport SubNav from \"./SubNav\";\nimport \"../css/image.css\";\n\nexport default class EditArtwork extends Component {\n  constructor(props) {\n    super(props);\n    this.state = { artworks: {}, isLoaded: false };\n    this.myRef = React.createRef();\n  }\n\n  onCategoryUpdated = (e) => {\n    this.setState({ cat_id: e.target.value });\n  };\n\n  GoToUserArtwork = (e) => {\n    navigate(`/user-artworks`);\n  };\n\n  componentDidMount() {\n    Axios.get(`${UTILS.edit_artwork}/${this.props.id}`).then((res) => {\n      this.setState({ artworks: res.data[0], isLoaded: true });\n    });\n  }\n\n  EditProduct = (e) => {\n    e.preventDefault();\n    var formData = new FormData(this.myRef.current);\n    var settings = {\n      headers: { \"Content-Type\": \"multipart/form-data\" },\n    };\n    Axios.put(\n      `${UTILS.edit_artwork}/${this.props.id}`,\n      formData,\n      settings\n    ).then(\n      (res) => {\n        console.log(res);\n        this.GoToUserArtwork();\n      },\n      (error) => {\n        console.log(this.props.id);\n      }\n    );\n  };\n\n  render() {\n    let {\n      image,\n      artwork_title,\n      price,\n      product_description,\n    } = this.state.artworks;\n\n    return (\n      <React.Fragment>\n        <TopNav />\n        <SubNav />\n        <div>\n          <span>EDIT LISTING</span>\n          <form onSubmit={this.EditProduct} ref={this.myRef}>\n            <CategorySelector onCategoryUpdated={this.onCategoryUpdated} />\n            <input\n              type=\"text\"\n              placeholder=\"Title\"\n              name=\"artwork_title\"\n              defaultValue={artwork_title}\n            ></input>\n\n            <input\n              type=\"number\"\n              placeholder=\"Price\"\n              name=\"price\"\n              defaultValue={price}\n            ></input>\n\n            <textarea\n              type=\"textarea\"\n              name=\"product_description\"\n              placeholder=\"Product Description\"\n              defaultValue={product_description}\n              rows=\"5\"\n            />\n\n            <input type=\"hidden\" name=\"cat_id\" value={this.state.cat_id} />\n\n            <div>\n              <div className=\"image-wrap\">\n                <figure>\n                  <img\n                    className=\"individual-image\"\n                    src={`http://localhost:9000/${image}`}\n                    width=\"150px\"\n                    height=\"250px\"\n                  />\n                </figure>\n              </div>\n              <input\n                type=\"file\"\n                name=\"image\"\n                src={image}\n                defaultValue={image}\n              ></input>\n            </div>\n\n            <div className=\"submit\">\n              <button className=\"submit-button\" type=\"submit\">\n                DONE\n              </button>\n            </div>\n          </form>\n        </div>\n      </React.Fragment>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}
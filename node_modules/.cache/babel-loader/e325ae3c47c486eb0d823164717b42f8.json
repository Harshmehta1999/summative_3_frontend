{"ast":null,"code":"var _jsxFileName = \"/Users/khush/Documents/harsh/summative 3/code/frontend/summative_3_frontend/src/components/EditArtwork.jsx\";\nimport React, { Component } from \"react\";\nimport * as UTILS from \"../utils\";\nimport { navigate } from \"@reach/router\";\nimport Axios from \"axios\";\nimport CategorySelector from \"./CategorySelector\";\nexport default class EditArtwork extends Component {\n  constructor(props) {\n    super(props);\n\n    this.onCategoryUpdated = e => {\n      this.setState({\n        cat_id: e.target.value\n      });\n    };\n\n    this.gotoProducts = e => {\n      navigate(`/my-artworks`);\n    };\n\n    this.EditProduct = e => {\n      console.log(\"EDIT\");\n      e.preventDefault(); // grab reference to the form data\n\n      var formData = new FormData(this.myRef.current); //lets see what we have in the form\n\n      for (var p of formData.entries()) {\n        console.log(p);\n      }\n\n      var settings = {\n        headers: {\n          \"Content-Type\": \"multipart/form-data\"\n        }\n      };\n      Axios.put(`${UTILS.edit_artwork}/${this.props.id}`, formData, settings).then(res => {\n        console.log(res);\n      }, error => {\n        console.log(this.props.id);\n      });\n    };\n\n    this.state = {\n      artworks: {},\n      isLoaded: false\n    };\n    this.myRef = React.createRef();\n  }\n\n  componentDidMount() {\n    Axios.get(`${UTILS.artworks_url}/${this.props.id}`).then(res => {\n      this.setState({\n        artworks: res.data[0],\n        isLoaded: true\n      });\n    });\n  }\n\n  render() {\n    let {\n      image,\n      artwork_title,\n      price,\n      size,\n      condition,\n      description\n    } = this.state.artworks; // only append server url to images that are not external\n\n    return /*#__PURE__*/React.createElement(React.Fragment, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 3\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"page\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 5\n      }\n    }, /*#__PURE__*/React.createElement(\"h2\", {\n      className: \"page-tile\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 7\n      }\n    }, \"Edit Item\"), /*#__PURE__*/React.createElement(\"form\", {\n      className: \"form-wrapper\",\n      onSubmit: this.EditProduct,\n      ref: this.myRef,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      placeholder: \"Title\",\n      className: \"text-input\",\n      name: \"artwork_title\",\n      defaultValue: artwork_title,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      placeholder: \"Price\",\n      className: \"text-input\",\n      name: \"price\",\n      defaultValue: price,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      placeholder: \"Size\",\n      className: \"text-input\",\n      name: \"size\",\n      defaultValue: size,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      placeholder: \"Condition\",\n      className: \"text-input\",\n      name: \"condition\",\n      defaultValue: condition,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"textarea\",\n      placeholder: \"Description\",\n      className: \"textarea-input\",\n      name: \"description\",\n      defaultValue: description,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(CategorySelector, {\n      onCategoryUpdated: this.onCategoryUpdated,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"figure\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: image,\n      width: \"150px\",\n      height: \"150px\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 13\n      }\n    })), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"file\",\n      name: \"image\",\n      src: image,\n      defaultValue: image,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 11\n      }\n    })), /*#__PURE__*/React.createElement(\"button\", {\n      type: \"submit\",\n      onClick: this.gotoProducts,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 9\n      }\n    }, \"Update Artwork\"))));\n  }\n\n}","map":{"version":3,"sources":["/Users/khush/Documents/harsh/summative 3/code/frontend/summative_3_frontend/src/components/EditArtwork.jsx"],"names":["React","Component","UTILS","navigate","Axios","CategorySelector","EditArtwork","constructor","props","onCategoryUpdated","e","setState","cat_id","target","value","gotoProducts","EditProduct","console","log","preventDefault","formData","FormData","myRef","current","p","entries","settings","headers","put","edit_artwork","id","then","res","error","state","artworks","isLoaded","createRef","componentDidMount","get","artworks_url","data","render","image","artwork_title","price","size","condition","description"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport * as UTILS from \"../utils\";\nimport { navigate } from \"@reach/router\";\nimport Axios from \"axios\";\nimport CategorySelector from \"./CategorySelector\";\n\nexport default class EditArtwork extends Component {\nconstructor(props) {\nsuper(props);\nthis.state = { artworks: {}, isLoaded: false};\nthis.myRef = React.createRef();\n}\n\nonCategoryUpdated = e => {\n    this.setState({ cat_id: e.target.value });\n  };\n\ngotoProducts = (e) => {\nnavigate(`/my-artworks`);\n};\n\n\n\ncomponentDidMount() {\nAxios.get(`${UTILS.artworks_url}/${this.props.id}`).then((res) => {\nthis.setState({ artworks: res.data[0], isLoaded: true });\n});\n}\n\nEditProduct = (e) => {\nconsole.log(\"EDIT\");\ne.preventDefault();\n// grab reference to the form data\nvar formData = new FormData(this.myRef.current);\n//lets see what we have in the form\nfor (var p of formData.entries()) {\nconsole.log(p);\n}\nvar settings = {\nheaders: { \"Content-Type\": \"multipart/form-data\" },\n};\nAxios.put(`${UTILS.edit_artwork}/${this.props.id}`, formData, settings).then(\n(res) => {\nconsole.log(res);\n},\n(error) => {\nconsole.log(this.props.id);\n}\n);\n};\n\nrender() {\nlet {\n\nimage,\nartwork_title,\nprice,\nsize,\ncondition,\ndescription,\n} = this.state.artworks;\n\n// only append server url to images that are not external\n\n\nreturn (\n  <React.Fragment>\n\n    <div className=\"page\">\n      <h2 className=\"page-tile\">Edit Item</h2>\n      <form\n        className=\"form-wrapper\"\n        onSubmit={this.EditProduct}\n        ref={this.myRef}\n      >\n        <input\n          type=\"text\"\n          placeholder=\"Title\"\n          className=\"text-input\"\n          name=\"artwork_title\"\n          defaultValue={artwork_title}\n        ></input>\n        <input\n          type=\"text\"\n          placeholder=\"Price\"\n          className=\"text-input\"\n          name=\"price\"\n          defaultValue={price}\n        ></input>\n        <input\n          type=\"text\"\n          placeholder=\"Size\"\n          className=\"text-input\"\n          name=\"size\"\n          defaultValue={size}\n        ></input>\n        <input\n          type=\"text\"\n          placeholder=\"Condition\"\n          className=\"text-input\"\n          name=\"condition\"\n          defaultValue={condition}\n        ></input>\n        {/*  V IMP - input name should match model name on server */}\n        <input\n          type=\"textarea\"\n          placeholder=\"Description\"\n          className=\"textarea-input\"\n          name=\"description\"\n          defaultValue={description}\n        ></input>\n\n        <CategorySelector onCategoryUpdated={this.onCategoryUpdated}/>\n\n\n        <div >\n          <figure>\n            <img\n              src={image}\n              width=\"150px\"\n              height=\"150px\"\n\n            />\n           \n          </figure>\n          <input\n            type=\"file\"\n            name=\"image\"\n            src={image}\n            defaultValue={image}\n          ></input>\n        </div>\n\n        <button\n          type=\"submit\"\n          onClick={this.gotoProducts}\n        >\n          Update Artwork\n        </button>\n      </form>\n    </div>\n\n\n  </React.Fragment>\n);\n}\n}"]},"metadata":{},"sourceType":"module"}
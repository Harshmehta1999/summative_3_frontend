{"ast":null,"code":"var _jsxFileName = \"/Users/khush/Documents/harsh/summative 3/code/frontend/summative_3_frontend/src/components/EditArtwork.jsx\";\nimport React, { Component } from \"react\";\nimport * as UTILS from \"../utils\";\nimport { navigate } from \"@reach/router\";\nimport Axios from \"axios\";\nimport { Util } from \"reactstrap\";\nimport CategorySelector from \"./CategorySelector\";\n\nclass EditArtwork extends Component {\n  constructor(props) {\n    super(props);\n\n    this.gotoProducts = e => {\n      let temp = this.props.id;\n      console.log(this.props.id);\n      navigate(`/my-artworks`);\n    };\n\n    this.EditProduct = e => {\n      console.log(\"EDIT\");\n      e.preventDefault(); // grab reference to the form data\n\n      var formData = new FormData(this.myRef.current); //lets see what we have in the form\n\n      for (var p of formData.entries()) {\n        console.log(p);\n      }\n\n      var settings = {\n        headers: {\n          \"Content-Type\": \"multipart/form-data\"\n        }\n      };\n      Axios.put(`${UTILS.edit_artwork}/${this.props.id}`, formData, settings).then(res => {\n        console.log(res);\n      }, error => {\n        console.log(this.props.id);\n      });\n    };\n\n    this.state = {\n      artworks: {},\n      isLoaded: false\n    };\n    this.myRef = React.createRef();\n  }\n\n  onCategoryUpdated(event) {\n    this.setState({\n      artworks: event.target.value\n    });\n  }\n\n  componentDidMount() {\n    Axios.get(`${UTILS.artworks_url}/${this.props.id}`).then(res => {\n      // console.table(res.data);\n      this.setState({\n        artworks: res.data[0],\n        isLoaded: true\n      });\n    });\n  }\n\n  render() {\n    let {\n      image,\n      artwork_title,\n      price,\n      size,\n      condition,\n      description\n    } = this.state.artworks; // only append server url to images that are not external\n\n    return /*#__PURE__*/React.createElement(React.Fragment, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 3\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"page\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 5\n      }\n    }, /*#__PURE__*/React.createElement(\"h2\", {\n      className: \"page-tile\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 7\n      }\n    }, \"Edit Item\"), /*#__PURE__*/React.createElement(\"form\", {\n      className: \"form-wrapper\",\n      onSubmit: this.EditProduct,\n      ref: this.myRef,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      placeholder: \"Title\",\n      className: \"text-input\",\n      name: \"artwork_title\",\n      defaultValue: artwork_title,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      placeholder: \"Price\",\n      className: \"text-input\",\n      name: \"price\",\n      defaultValue: price,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      placeholder: \"Size\",\n      className: \"text-input\",\n      name: \"size\",\n      defaultValue: size,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      placeholder: \"Condition\",\n      className: \"text-input\",\n      name: \"condition\",\n      defaultValue: condition,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"textarea\",\n      placeholder: \"Description\",\n      className: \"textarea-input\",\n      name: \"description\",\n      defaultValue: description,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(CategorySelector, {\n      onCategoryUpdated: this.onCategoryUpdated,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"uploadimg-con\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"figure\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: image,\n      width: \"100px\",\n      height: \"100px\",\n      alt: \"current choice\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 13\n      }\n    })), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"file\",\n      name: \"image\",\n      src: image // className=\"upload-img\"\n      ,\n      className: \"dark upload-frame grey\",\n      defaultValue: image,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 11\n      }\n    })), /*#__PURE__*/React.createElement(\"button\", {\n      type: \"submit\",\n      className: \"btn btn-primary btn-wide\",\n      onClick: this.gotoProducts,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 9\n      }\n    }, \"Update Item\"))));\n  }\n\n}\n\nexport default Edit;","map":{"version":3,"sources":["/Users/khush/Documents/harsh/summative 3/code/frontend/summative_3_frontend/src/components/EditArtwork.jsx"],"names":["React","Component","UTILS","navigate","Axios","Util","CategorySelector","EditArtwork","constructor","props","gotoProducts","e","temp","id","console","log","EditProduct","preventDefault","formData","FormData","myRef","current","p","entries","settings","headers","put","edit_artwork","then","res","error","state","artworks","isLoaded","createRef","onCategoryUpdated","event","setState","target","value","componentDidMount","get","artworks_url","data","render","image","artwork_title","price","size","condition","description","Edit"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport * as UTILS from \"../utils\";\nimport { navigate } from \"@reach/router\";\nimport Axios from \"axios\";\n\nimport { Util } from \"reactstrap\";\nimport CategorySelector from \"./CategorySelector\";\n\nclass EditArtwork extends Component {\nconstructor(props) {\nsuper(props);\nthis.state = { artworks: {}, isLoaded: false};\nthis.myRef = React.createRef();\n}\n\nonCategoryUpdated(event) {\nthis.setState({artworks: event.target.value});\n}\n\ngotoProducts = (e) => {\nlet temp = this.props.id;\nconsole.log(this.props.id);\n\nnavigate(`/my-artworks`);\n};\n\n\n\ncomponentDidMount() {\nAxios.get(`${UTILS.artworks_url}/${this.props.id}`).then((res) => {\n// console.table(res.data);\nthis.setState({ artworks: res.data[0], isLoaded: true });\n});\n}\n\nEditProduct = (e) => {\nconsole.log(\"EDIT\");\ne.preventDefault();\n// grab reference to the form data\nvar formData = new FormData(this.myRef.current);\n//lets see what we have in the form\nfor (var p of formData.entries()) {\nconsole.log(p);\n}\nvar settings = {\nheaders: { \"Content-Type\": \"multipart/form-data\" },\n};\nAxios.put(`${UTILS.edit_artwork}/${this.props.id}`, formData, settings).then(\n(res) => {\nconsole.log(res);\n},\n(error) => {\nconsole.log(this.props.id);\n}\n);\n};\n\nrender() {\nlet {\n\nimage,\nartwork_title,\nprice,\nsize,\ncondition,\ndescription,\n} = this.state.artworks;\n\n// only append server url to images that are not external\n\n\nreturn (\n  <React.Fragment>\n\n    <div className=\"page\">\n      <h2 className=\"page-tile\">Edit Item</h2>\n      <form\n        className=\"form-wrapper\"\n        onSubmit={this.EditProduct}\n        ref={this.myRef}\n      >\n        <input\n          type=\"text\"\n          placeholder=\"Title\"\n          className=\"text-input\"\n          name=\"artwork_title\"\n          defaultValue={artwork_title}\n        ></input>\n        <input\n          type=\"text\"\n          placeholder=\"Price\"\n          className=\"text-input\"\n          name=\"price\"\n          defaultValue={price}\n        ></input>\n        <input\n          type=\"text\"\n          placeholder=\"Size\"\n          className=\"text-input\"\n          name=\"size\"\n          defaultValue={size}\n        ></input>\n        <input\n          type=\"text\"\n          placeholder=\"Condition\"\n          className=\"text-input\"\n          name=\"condition\"\n          defaultValue={condition}\n        ></input>\n        {/*  V IMP - input name should match model name on server */}\n        <input\n          type=\"textarea\"\n          placeholder=\"Description\"\n          className=\"textarea-input\"\n          name=\"description\"\n          defaultValue={description}\n        ></input>\n\n        <CategorySelector onCategoryUpdated={this.onCategoryUpdated}/>\n\n\n        <div className=\"uploadimg-con\">\n          <figure>\n            <img\n              src={image}\n              width=\"100px\"\n              height=\"100px\"\n              alt=\"current choice\"\n            />\n           \n          </figure>\n          <input\n            type=\"file\"\n            name=\"image\"\n            src={image}\n            // className=\"upload-img\"\n            className=\"dark upload-frame grey\"\n            defaultValue={image}\n          ></input>\n\n          {/* <span>\n            <p className=\"dark upload-frame grey\">Upload Image</p>\n          </span> */}\n        </div>\n\n        <button\n          type=\"submit\"\n          className=\"btn btn-primary btn-wide\"\n          onClick={this.gotoProducts}\n        >\n          Update Item\n        </button>\n      </form>\n    </div>\n\n\n  </React.Fragment>\n);\n}\n}\n\nexport default Edit;"]},"metadata":{},"sourceType":"module"}